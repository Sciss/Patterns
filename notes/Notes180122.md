# Transactional streams

Having `Pat[T] <: Top` to nest patterns, we must now understand how to type the `Out` type member 
without having a wildcard on the stream's transaction type, i.e. `type Out = Stream[_, T#Out]`
does not seem good. We also want to avoid at all costs introducing a HKT, like `type Out[Tx] = Stream[Tx, T#Out]`
which makes this annoying for all other top types.

A straight forward idea would be to keep the patterns unexpanded, i.e. `type Out = Pat[T]`. This has
implications for reset operations. Which are the nested patterns we have so far?

- Combinations
- PatPat
- PatMap

and consumed by

- PatMap
- Flatten

Let's look at `Flatten#reset`.

```


Flatten(xs)


```
