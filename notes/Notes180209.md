# foldLeft

the problem arises from the recursive graph:


          /-------\
         /         \
        It         |
       ^   ^   ^   |
       |   |   |   |
       InnerGraph  |
       ^ Â          |
       |           |
       curr <------/
       ^
       |
    FoldLeft

An earlier version passed in the `curr` result from the main stream to the it-streams,
which causes a problem when `curr` is not a value but a stream itself (as happens when
processing a `Pat[Pat[T]]`).

If we moved the inner-stream to the it-stream, expanding it here for each it-stream,
we would obviously trigger an infinite expansion loop.

We might be inclined to thus 'delay' that expansion somehow, but the general case is
that the inner graph may refer to `It` multiple times.

A solution (?) could be to have a master stream that collects _and caches_ the values
of `curr`, and the it-streams would then keep a counter and poll that master stream.
I think the number of it-streams should be known after expanding all inputs to the
fold-left stream; therefore we could also forget cached values once all it-streams
have polled them, thereby avoiding unnecessary memory build-up.
